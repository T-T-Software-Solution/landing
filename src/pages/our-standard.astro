---
import Image from '~/components/common/Image.astro';
import Headline from '~/components/ui/Headline.astro';
import WidgetWrapper from '~/components/ui/WidgetWrapper.astro';
import Layout from '~/layouts/PageLayout.astro';

const metadata = {
  title: 'มาตรฐานของเรา | Our Standard',
};
---

<Layout metadata={metadata}>
  <WidgetWrapper containerClass="max-w-7xl mx-auto">
    <Headline title="มาตรฐานของเรา" classes={{ container: 'pt-12 lg:pt-0 lg:mb-8' }} />
    <div class="animate-on-scroll mb-4">
      <p class="indent-20 md:text-lg">
        ทางบริษัทได้ผ่านการประเมิน และได้รับการรับรองมาตรฐาน <span class="text-primary">ISO 29110</span> ในกระบวนการ <span
          class="text-primary">การบริหารจัดการโครงการ (Project Management: PM Process)</span
        >
      </p>
      <p class="md:text-lg">
        และควบคุม <span class="text-primary">กระบวนการด้านการสร้างซอฟต์แวร์ (Software Implementation: SI Process)</span>
      </p>
      <p class="font-bold md:text-lg">เมื่อวันที่ 17 กันยายน 2567</p>
    </div>
    <div class="flex justify-center my-4 animate-on-scroll">
      <Image src="~/assets/images/IEC-ISO-29110_lg.webp" alt="ISO 29110" class="w-full max-w-4xl" />
    </div>
  </WidgetWrapper>
</Layout>

<style>
  .animate-on-scroll {
    opacity: 0;
    transform: translateY(20px);
    transition:
      opacity 0.6s ease-out,
      transform 0.6s ease-out;
    transition-delay: calc(var(--animation-order, 0) * 0.1s);
  }
  .animate-on-scroll.show {
    opacity: 1;
    transform: translateY(0);
  }
</style>

<script>
  function handleIntersection(entries: IntersectionObserverEntry[]) {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        entry.target.classList.add('show');
      }
    });
  }

  const observer = new IntersectionObserver(handleIntersection, {
    root: null,
    rootMargin: '0px',
    threshold: 0.1,
  });

  document.addEventListener('astro:page-load', () => {
    const elements = document.querySelectorAll('.animate-on-scroll');
    elements.forEach((el) => observer.observe(el));
  });
</script>
