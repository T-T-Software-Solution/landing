---
import type { Content } from '~/types';
import WidgetWrapper from '../ui/WidgetWrapper.astro';
import Image from '../common/Image.astro';

export interface Props extends Content {
  imageContainerClasses?: string;
}

const {
  title = await Astro.slots.render('title'),
  subtitle = await Astro.slots.render('subtitle'),
  isAfterContent = false,
  id,
  isDark = false,
  classes = {},
  bg = await Astro.slots.render('bg'),
} = Astro.props;

const isEnglist = Astro.currentLocale === 'en';

const services = [
  {
    title: isEnglist ? 'E-Litigation System Development' : 'พัฒนาระบบ E-Litigation',
    description: isEnglist
      ? 'A case management system in digital format that helps streamline legal processes effectively'
      : 'ระบบจัดการคดีความในรูปแบบดิจิทัลที่ช่วยให้กระบวนการทางกฎหมายเป็นไปได้อย่างมีประสิทธิภาพ',
    icon: '~/assets/images/erp.svg',
  },
  {
    title: isEnglist ? 'HR System Development' : 'พัฒนาระบบ HR',
    description: isEnglist
      ? 'A human resource management system that manages employee data, training monitoring, and performance evaluation'
      : 'ระบบพัฒนาทรัพยากรบุคคลที่ช่วยบริหารจัดการข้อมูลพนักงาน ติดตามการฝึกอบรม และประเมินผลการปฏิบัติงาน',
    icon: '~/assets/images/hr.svg',
  },
  {
    title: isEnglist ? 'Finance System Development' : 'พัฒนาระบบ Finance',
    description: isEnglist
      ? 'A financial management system for organizations that can track budgets and expenses efficiently and systematically'
      : 'ระบบจัดการข้อมูลการเงินที่ช่วยให้องค์กรสามารถติดตาม วิเคราะห์และรายงานธุรกรรม ทางการเงินได้อย่างมีประสิทธิภาพและเป็นระบบ',
    icon: '~/assets/images/fiannce.svg',
  },
  {
    title: isEnglist ? 'CMS System Development' : 'พัฒนาระบบ CMS',
    description: isEnglist
      ? 'A content management system that allows users to edit and manage content without needing programming knowledge'
      : 'ระบบจัดการเนื้อหาที่ช่วยให้ผู้ใช้สามารถแก้ไขและจัดการเนื้อหาบนเว็บไซต์ได้อย่างง่ายดายโดยไม่ต้องมีความรู้ด้านการเขียนโค้ด',
    icon: '~/assets/images/crm.svg',
  },
  {
    title: 'Dynamic Dashboard',
    description: isEnglist
      ? 'A data display system that presents important information in a format that compares with user requirements and visualizes data in real-time'
      : 'ระบบแสดงข้อมูลแบบโต้ตอบที่นำเสนอข้อมูลสำคัญในรูปแบบที่ปรับเปลี่ยนได้ตามความต้องการของผู้ใช้และอัพเดตข้อมูลแบบเรียลไทม์',
    icon: '~/assets/images/statisctics.svg',
  },
  {
    title: 'Dynamic Reporting',
    description: isEnglist
      ? 'A report creation system that can customize formats according to new data and user needs without programming, with fast and efficient data analysis'
      : 'ระบบการสร้างรายงานที่สามารถปรับเปลี่ยนได้แบบอัตโนมัติ ตามข้อมูลใหม่และความต้องการของผู้ใช้ โดยช่วยให้ การวิเคราะห์ข้อมูลเป็นไปอย่างรวดเร็วและมีประสิทธิภาพ',
    icon: '~/assets/images/report.svg',
  },
];
---

<WidgetWrapper
  id={id}
  isDark={isDark}
  containerClass={`max-w-7xl mx-auto ${isAfterContent ? 'pt-0 lg:pt-0 lg:pt-0' : ''} ${classes?.container ?? ''} bg-white py-4 lg:py-4 rounded-lg`}
  bg={bg}
>
  <div
    class="max-w-7xl mx-auto px-4 lg:px-6 py-12 text-center text-2xl font-bold tracking-tight dark:text-white sm:text-3xl mb-2 animate-on-scroll"
  >
    <div class="bg-gradient-to-r from-[#FF6A3F] to-[#FFAC26F0] inline-block text-transparent bg-clip-text">{title}</div>
    <div class="border-b border-4 border-[#FF6A3F] w-[100px] mx-auto my-4"></div>
    <div class="text-base font-normal mt-4 md:text-xl text-[#4D4C66]">
      {subtitle}
    </div>
  </div>

  <!-- Add new services section -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-8 gap-y-2 px-4 lg:px-6">
    {
      services.map((service) => (
        <div class="text-center p-6">
          <div class="bg-gradient-to-b from-[#FF6A3F] to-[#FFAC26F0] rounded-xl p-4 w-fit mx-auto mb-4">
            <Image src={service.icon} alt={service.title} class="w-16 mx-auto" />
          </div>
          <h3 class="text-xl font-bold mb-3 bg-gradient-to-r from-[#FF6A3F] to-[#FFAC26F0] inline-block text-transparent bg-clip-text">
            {service.title}
          </h3>
          <p class="text-[#4D4C66]">{service.description}</p>
        </div>
      ))
    }
  </div>

  <!-- Add expert consultation section -->
  <div
    class="bg-gradient-to-r from-[#FF6A3F] to-[#F5C25373] rounded-lg px-4 md:px-[60px] py-4 md:py-[47px] flex justify-between items-center flex-col md:flex-row"
  >
    <div class="flex flex-row gap-2 text-white md:flex-col flex-wrap md:flex-nowrap">
      <div class="font-bold text-3xl md:text-5xl">Digital</div>
      <div class="text-3xl md:text-5xl">Transformation</div>
      <div class="font-bold text-3xl md:text-5xl">Solution</div>
    </div>
    <div class="max-w-3xl mx-auto px-4 lg:px-6 py-12 text-left">
      <div class="bg-white rounded-lg p-8">
        <h2
          class="text-xl font-bold mb-4 bg-gradient-to-r from-[#FF6A3F] to-[#FFAC26F0] inline-block text-transparent bg-clip-text"
        >
          {
            isEnglist
              ? 'Transform your organization digitally in a comprehensive way'
              : 'ปฏิรูปองค์กรของคุณสู่ดิจิทัลอย่างครบวงจร'
          }
        </h2>
        <p class="text-[#4D4C66] mb-6">
          {
            isEnglist
              ? `By applying advanced technology to fundamentally change your work processes and organizational systems. We have experience from various industries together with analyzing your specific business needs. We develop digital strategies that respond to and drive change with confidence in a rapidly changing competitive environment.`
              : `ด้วยการประยุกต์ใช้เทคโนโลยีล้ำสมัยในการปรับเปลี่ยนโครงสร้างพื้นฐาน กระบวนการทำงาน และวัฒนธรรมองค์กร
          เรามีประสบการณ์ จากหลากหลาย อุตสาหกรรมพร้อมวิเคราะห์ ความต้องการเฉพาะ ของธุรกิจคุณ พัฒนากลยุทธ์ดิจิทัล
          ที่ตอบโจทย์ และดำเนินการปรับเปลี่ยน ที่เห็นผลลัพธ์ชัดเจน เพื่อสร้างความได้เปรียบ ในการแข่งขัน
          และความยั่งยืนในยุคที่เปลี่ยนแปลงอย่างรวดเร็ว`
          }
        </p>
        <div class="flex justify-center">
          <div
            class="open-chat-head cursor-pointer inline-block bg-gradient-to-r from-[#FF6A3F] to-[#FFAC26F0] text-white px-4 py-2 md:px-6 md:py-3 rounded-lg font-medium hover:opacity-90 transition-opacity"
          >
            {isEnglist ? 'Chat with our Expert →' : 'แชทกับผู้เชี่ยวชาญของเราตอนนี้ →'}
          </div>
        </div>
      </div>
    </div>
  </div>
</WidgetWrapper>
