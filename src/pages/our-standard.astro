---
import Image from '~/components/common/Image.astro';
import Headline from '~/components/ui/Headline.astro';
import WidgetWrapper from '~/components/ui/WidgetWrapper.astro';
import Layout from '~/layouts/PageLayout.astro';
import { environmentConfig } from '~/config';

const metadata = {
  title: 'มาตรฐาน และใบรับรองของเรา | Our Standard',
};

const images = [
  {
    src: `${environmentConfig.baseImageUrl}/images/our_certificates/Ponggun/Ponggun-MVP.webp`,
    alt: 'Ponggun-MVP',
    link: 'https://www.credly.com/badges/a925f8a4-5107-4bc4-8ab5-cee3b663b404/public_url',
  },
  {
    src: `${environmentConfig.baseImageUrl}/images/our_certificates/Mild/thada_mvp.webp`,
    alt: 'Mild-MVP',
    link: 'https://mvp.microsoft.com/en-US/mvp/profile/3561647a-7542-4879-9702-5a78cc543eb8',
  },
  {
    src: `${environmentConfig.baseImageUrl}/images/our_certificates/Nakorn/Nakorn-DevOps Engineer Expert.webp`,
    alt: 'Nakorn-DevOps Engineer Expert',
    link: 'https://learn.microsoft.com/api/credentials/share/en-gb/NakornRientrakrunchai-3290/AD8C30B6C0025EF7?sharingId=57B1B17B693AE35E',
  },
  {
    src: `${environmentConfig.baseImageUrl}/images/our_certificates/Nakorn/Nakorn-Azure Developer Associate.webp`,
    alt: 'Nakorn-Azure Developer Associate',
    link: 'https://learn.microsoft.com/en-gb/users/nakornrientrakrunchai-3290/credentials/4bce7cd7a3ed3e22',
  },
  {
    src: `${environmentConfig.baseImageUrl}/images/our_certificates/Nakorn/Nakorn-Azure Fundamentals.webp`,
    alt: 'Nakorn-Azure Fundamentals',
    link: 'https://learn.microsoft.com/api/credentials/share/en-gb/NakornRientrakrunchai-3290/FCB870799C623A35?sharingId=57B1B17B693AE35E',
  },
  {
    src: `${environmentConfig.baseImageUrl}/images/our_certificates/Ponggun/Ponggun-Azure.webp`,
    alt: 'Ponggun-Azure',
    link: 'https://learn.microsoft.com/api/credentials/share/en-gb/ponggun/E8FF6C3510E41237?sharingId=AZ-MVP-5004988',
  },
  {
    src: `${environmentConfig.baseImageUrl}/images/our_certificates/Too/Too-Azure.webp`,
    alt: 'Too-Azure',
    link: 'https://learn.microsoft.com/en-us/users/keeratiratanapatayakorn-9126/credentials/3ddadb0646b98f76',
  },
  {
    src: `${environmentConfig.baseImageUrl}/images/our_certificates/Nakorn/Nakorn-Professional.webp`,
    alt: 'Nakorn-Professional',
  },
];

const pdpa = [
  {
    src: `${environmentConfig.baseImageUrl}/images/our_certificates/Nakorn/Nakorn-Professional.webp`,
    alt: 'Nakorn-Professional',
  },
]
---

<Layout metadata={metadata}>
  <WidgetWrapper containerClass="max-w-7xl mx-auto">
    <!-- Tabs -->
    <div class="wrapper">
      <input type="radio" name="slider" id="tab-1" checked />
      <input type="radio" name="slider" id="tab-2" />
      <input type="radio" name="slider" id="tab-3" />
      <header>
        <label for="tab-1" class="tab-1">มาตรฐานของเรา</label>
        <label for="tab-2" class="tab-2">ใบรับรองของเรา</label>
        <label for="tab-3" class="tab-3">PDPA</label>
        <div class="slider"></div>
      </header>
    </div>

    <!-- Standards Tab Content -->
    <div id="standards" class="tab-content active">
      <div class="block-effect" style="--td: 1s">
        <div class="block-reveal pt-4" style="--bc: var(--aw-color-primary); --d: .1ms">
          <Headline title="มาตรฐานของเรา" classes={{ container: 'pt-14 lg:pt-0 lg:mb-8' }} />
        </div>
      </div>
      <div class="flex flex-col items-center gap-8 p-4 lg:p-0">
        <div class="lg:w-1/2">
          <p class="md:text-md">
            บริษัทได้รับการประเมินและผ่านการรับรองมาตรฐาน
            <span class="text-primary">ISO 29110</span> ในกระบวนการ
            <span class="text-primary">การบริหารจัดการโครงการ (Project Management: PM Process)</span>
            รวมถึงการควบคุมกระบวนการ
            <span class="text-primary">การพัฒนาซอฟต์แวร์ (Software Implementation: SI Process)</span>
            โดยมีการดำเนินงานตามกรอบมาตรฐานที่กำหนดไว้อย่างเคร่งครัด เพื่อให้มั่นใจในประสิทธิภาพและคุณภาพของกระบวนการต่าง
            ๆ ที่เกี่ยวข้องในการพัฒนาซอฟต์แวร์
            <span class="font-bold">เมื่อวันที่ 27 กันยายน 2567</span>
          </p>
        </div>

        <div class="lg:w-[40%] flex justify-center">
          <div
            class="border-[2px] border-black flex justify-center my-4 animate-on-scroll max-w-xl mx-auto shadow-xl hover:shadow-2xl transition-shadow duration-300 fade-up-element image-container"
          >
            <Image
              src={`${environmentConfig.baseImageUrl}/images/ISO.webp`}
              alt="ISO 29110"
              class="!object-contain w-3/4"
            />
          </div>
        </div>
      </div>
    </div>

    <!-- Certificates Tab Content -->
    <div id="certificates" class="tab-content flex justify-center">
      <div class="pt-4">
        <Headline title="ใบรับรองของเรา" classes={{ container: 'pt-12 lg:pt-0 lg:mb-8' }} />
      </div>
      <div class="flex justify-center md:items-center xl:items-start">
        <p class="flex justify-center md:text-lg md:flex-row flex-col items-center">
          ทีมงานของเราเป็น
          <span class="text-primary">ผู้เชี่ยวชาญด้านเทคโนโลยีของ Microsoft</span>
          ซึ่งได้รับการยืนยันด้วยใบรับรองจาก
          <span class="text-primary">Microsoft</span>
          ตลอดระยะเวลาที่ผ่านมา
        </p>
      </div>
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-4 mt-8 mx-auto">
        {
          images.map((image) => (
            <div class="image-container">
              <a href={image.link ?? '#'} target="_blank">
                <Image src={image.src} alt={image.alt} class="w-full h-full !object-contain" />
              </a>
            </div>
          ))
        }
      </div>
    </div>

    <!-- PDPA Tab Content -->
    <div id="PDPA" class="tab-content">
      <div class="pt-4 flex justify-center flex-col items-center gap-0">
        <Headline title="PDPA" classes={{ container: 'pt-12 lg:pt-0 lg:mb-8' }} />
        <div class="flex justify-center md:items-center xl:items-start">
          <p class="flex justify-center md:text-lg md:flex-row flex-col items-center">
            ทีมงานของเราได้ผ่านการอบรมเกี่ยวกับ
            <span class="text-primary">ความปลอดภัยของข้อมูลส่วนบุคคล (PDPA)</span>
            และมีการปฏิบัติตามกฎหมายอย่างเคร่งครัด
          </p>
        </div>
      </div>
    </div>
  </WidgetWrapper>
</Layout>

<style>
  .tab-content {
    display: none;
    opacity: 0;
    transform: translateY(10px);
    transition:
      opacity 0.3s ease-out,
      transform 0.3s ease-out;
    animation: fade-in 1s ease-out forwards;
  }

  .tab-content.active {
    display: block;
    animation: fade-in 1s ease-out forwards;
  }

  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /*---------- slider tab selector -----------*/
  .wrapper {
    width: 100%;
    max-width: 480px;
    background: #fff;
  }

  .wrapper header {
    height: 50px;
    display: flex;
    align-items: center;
    border: 1px solid #ccc;
    border-radius: 30px;
    position: relative;
    overflow: hidden;
    width: 100%;
    max-width: 480px;
  }
  header label {
    height: 100%;
    z-index: 2;
    width: 30%;
    display: flex;
    cursor: pointer;
    font-size: 18px;
    position: relative;
    align-items: center;
    justify-content: center;
    transition: color 0.3s ease;
  }
  #tab-1:checked ~ header .tab-1,
  #tab-2:checked ~ header .tab-2,
  #tab-3:checked ~ header .tab-3 {
    color: #fff;
  }
  header label:nth-child(2) {
    width: 40%;
  }
  header .slider {
    position: absolute;
    height: 93%;
    border-radius: inherit;
    background: linear-gradient(145deg, var(--aw-color-primary) 0%, #ffd000 120%);
    transition: all 0.3s ease;
  }
  #tab-1:checked ~ header .slider {
    left: 0%;
    width: 140px;
    transform: translateX(2%);
  }
  #tab-2:checked ~ header .slider {
    left: 50%;
    width: 140px;
    transform: translateX(-50%);
  }
  #tab-3:checked ~ header .slider {
    left: 100%;
    width: 140px;
    transform: translateX(-102%);
  }
  .wrapper input[type='radio'] {
    display: none;
  }

  @media screen and (max-width: 480px) {
    .wrapper header {
      height: auto;
      margin-top: 40px;
    }

    header label {
      font-size: 14px;
      padding: 8px 0;
    }

    header .slider {
      width: 100%;
      height: 5px;
      bottom: 0;
      left: 0;
    }

    #tab-1:checked ~ header .slider {
      left: 0%;
      width: 120px;
      height: 37px;
      transform: translateX(0%);
    }
    #tab-2:checked ~ header .slider {
      left: 50%;
      width: 120px;
      height: 37px;
      transform: translateX(-50%);
    }
    #tab-3:checked ~ header .slider {
      left: 100%;
      width: 120px;
      height: 37px;
      transform: translateX(-100%);
    }
  }
</style>

<script>
  document.addEventListener('astro:page-load', () => {
    const inputs = document.querySelectorAll('input[name="slider"]');
    const contents = document.querySelectorAll('.tab-content');

    inputs.forEach((input, index) => {
      input.addEventListener('change', () => {
        contents.forEach((content) => content.classList.remove('active'));
        contents[index].classList.add('active');
      });
    });
  });
</script>
